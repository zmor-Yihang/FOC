# ADC注入组中断不触发 - Bug修复总结

## 问题现象
ADC1注入组配置为TIM1 TRGO触发，但注入组转换完成中断始终不触发。

## 根本原因
**初始化顺序错误**：ADC1在TIM1之前初始化。

当ADC1先初始化时，它配置了等待TIM1的TRGO信号作为触发源，但此时TIM1尚未初始化，TRGO信号不存在，导致ADC注入组永远无法被触发。

## 错误代码
```c
// main.c
adc1_init();  // ❌ ADC先初始化，等待的TRGO信号不存在
tim1_init();  // TIM1后初始化
```

## 修复方案
```c
// main.c
tim1_init();  // ✅ 先初始化TIM1，产生TRGO信号
adc1_init();  // 再初始化ADC，此时TRGO已就绪
```

## 触发链路
```
TIM1 Update事件 → TRGO输出 → ADC1注入组触发 → 转换完成 → 中断
```

## 经验教训
配置外设触发链时，**信号源必须先于信号接收方初始化**：
- DAC由TIM触发 → 先初始化TIM
- ADC由TIM触发 → 先初始化TIM  
- 从定时器由主定时器触发 → 先初始化主定时器